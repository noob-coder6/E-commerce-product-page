/* === RESET === */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Kumbh Sans', sans-serif;
      font-size: 16px;
      color: hsl(219, 9%, 45%);
      line-height: 1.6;
      min-height: 100vh;
    }

    img {
      max-width: 100%;
      display: block;
    }

    button {
      font-family: inherit;
      border: none;
      background: none;
      cursor: pointer;
    }

    ul {
      list-style: none;
    }

    a {
      text-decoration: none;
      color: inherit;
    }

    /* === VARIABLES === */
    :root {
      --clr-primary-orange: hsl(26, 100%, 55%);
      --clr-primary-pale-orange: hsl(25, 100%, 94%);
      --clr-neutral-very-dark-blue: hsl(220, 13%, 13%);
      --clr-neutral-dark-grayish-blue: hsl(219, 9%, 45%);
      --clr-neutral-grayish-blue: hsl(220, 14%, 75%);
      --clr-neutral-light-grayish-blue: hsl(223, 64%, 98%);
      --clr-neutral-white: hsl(0, 0%, 100%);
      --clr-neutral-black-lightbox: hsla(0, 0%, 0%, 0.75);
    }

    /* === SKIP LINK === */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--clr-primary-orange);
      color: white;
      padding: 8px;
      z-index: 1000;
      text-decoration: none;
    }

    .skip-link:focus {
      top: 0;
    }

    /* === HEADER === */
    .header {
      position: relative;
      border-bottom: 1px solid hsl(220, 14%, 90%);
    }

    .header__container {
      max-width: 1110px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      padding: 0 1.5rem;
      height: 112px;
    }

    .header__menu-btn {
      display: none;
    }

    .header__logo {
      margin-right: 3.5rem;
      display: flex;
      align-items: center;
    }

    .header__nav-list {
      display: flex;
      gap: 2rem;
      height: 112px;
      align-items: center;
    }

    .header__nav-link {
      position: relative;
      color: var(--clr-neutral-dark-grayish-blue);
      padding: 2.7rem 0;
      display: block;
      transition: color 0.3s ease;
    }

    .header__nav-link::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background-color: var(--clr-primary-orange);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }

    .header__nav-link:hover,
    .header__nav-link:focus {
      color: var(--clr-neutral-very-dark-blue);
    }

    .header__nav-link:hover::after,
    .header__nav-link:focus::after {
      transform: scaleX(1);
    }

    .header__right {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 2.875rem;
    }

    .header__cart-btn {
      position: relative;
      padding: 0.5rem;
    }

    .header__cart-btn svg path {
      transition: fill 0.3s ease;
    }

    .header__cart-btn:hover svg path,
    .header__cart-btn:focus svg path {
      fill: var(--clr-neutral-very-dark-blue);
    }

    .header__cart-count {
      position: absolute;
      top: 0;
      right: 0;
      background-color: var(--clr-primary-orange);
      color: var(--clr-neutral-white);
      font-size: 0.625rem;
      font-weight: 700;
      padding: 0.1rem 0.5rem;
      border-radius: 10px;
      min-width: 19px;
      text-align: center;
      display: none;
    }

    .header__avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid transparent;
      transition: border-color 0.3s ease;
    }

    .header__avatar-btn:hover .header__avatar,
    .header__avatar-btn:focus .header__avatar {
      border-color: var(--clr-primary-orange);
    }

    /* === CART DROPDOWN === */
    .cart-dropdown {
      position: absolute;
      top: calc(100% + 8px);
      right: -80px;
      width: 360px;
      background-color: var(--clr-neutral-white);
      border-radius: 10px;
      box-shadow: 0 20px 50px -20px rgba(0, 0, 0, 0.5);
      z-index: 10;
    }

    .cart-dropdown__title {
      font-size: 1rem;
      font-weight: 700;
      color: var(--clr-neutral-very-dark-blue);
      padding: 1.5rem;
      border-bottom: 1px solid hsl(220, 14%, 90%);
    }

    .cart-dropdown__content {
      padding: 1.5rem;
      min-height: 188px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .cart-dropdown__empty-msg {
      font-weight: 700;
      text-align: center;
      color: var(--clr-neutral-dark-grayish-blue);
    }

    .cart-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .cart-item__img {
      width: 50px;
      height: 50px;
      border-radius: 4px;
      object-fit: cover;
    }

    .cart-item__info {
      flex: 1;
    }

    .cart-item__name {
      color: var(--clr-neutral-dark-grayish-blue);
      margin-bottom: 0.25rem;
    }

    .cart-item__price {
      color: var(--clr-neutral-dark-grayish-blue);
    }

    .cart-item__price-total {
      font-weight: 700;
      color: var(--clr-neutral-very-dark-blue);
    }

    .cart-item__delete-btn {
      padding: 0.25rem;
    }

    .cart-item__delete-btn:hover,
    .cart-item__delete-btn:focus {
      opacity: 0.7;
    }

    .cart-dropdown__checkout-btn {
      width: 100%;
      padding: 1.125rem;
      background-color: var(--clr-primary-orange);
      color: var(--clr-neutral-white);
      font-weight: 700;
      border-radius: 10px;
      transition: opacity 0.3s ease;
    }

    .cart-dropdown__checkout-btn:hover,
    .cart-dropdown__checkout-btn:focus {
      opacity: 0.7;
    }

    /* === MAIN CONTENT === */
    .main-content {
      max-width: 1015px; /* Adjusted for better spacing */
      margin: 5.625rem auto 8rem;
      padding: 0 1.5rem;
    }

    .product {
      display: grid;
      grid-template-columns: 445px 1fr; /* Use fixed width for gallery */
      gap: 7.8125rem;
      align-items: center;
    }

    /* === GALLERY === */
    .product__gallery {
      max-width: 445px;
    }

    .product__image-main {
      position: relative;
      margin-bottom: 2rem;
    }

    .product__image-main img {
      border-radius: 15px;
      width: 100%;
      cursor: pointer;
    }

    .product__thumbnails {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.9375rem;
    }

    .product__thumbnail-btn {
      border-radius: 10px;
      overflow: hidden;
      border: 2px solid transparent;
      position: relative;
      background: transparent;
      transition: border-color 0.3s ease;
    }

    .product__thumbnail-btn img {
      width: 100%;
      display: block;
    }

    .product__thumbnail-btn:hover::before,
    .product__thumbnail-btn:focus::before {
      content: '';
      position: absolute;
      inset: 0;
      background-color: hsla(0, 0%, 100%, 0.5);
    }

    .product__thumbnail-btn.active {
      border-color: var(--clr-primary-orange);
    }

    .product__thumbnail-btn.active::before {
      content: '';
      position: absolute;
      inset: 0;
      background-color: hsla(0, 0%, 100%, 0.75);
    }

    /* === PRODUCT INFO === */
    .product__company {
      color: var(--clr-primary-orange);
      font-weight: 700;
      font-size: 0.8125rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      margin-bottom: 1.5rem;
    }

    .product__title {
      font-size: 2.75rem;
      line-height: 1;
      color: var(--clr-neutral-very-dark-blue);
      margin-bottom: 2rem;
    }

    .product__description {
      color: var(--clr-neutral-dark-grayish-blue);
      line-height: 1.625;
      margin-bottom: 1.5rem;
    }

    .product__price {
      margin-bottom: 2rem;
    }

    .product__price-current {
      font-size: 1.75rem;
      font-weight: 700;
      color: var(--clr-neutral-very-dark-blue);
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 0.625rem;
    }

    .product__price-discount {
      font-size: 1rem;
      font-weight: 700;
      color: var(--clr-primary-orange);
      background-color: var(--clr-primary-pale-orange);
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
    }

    .product__price-original {
      color: var(--clr-neutral-grayish-blue);
      text-decoration: line-through;
      font-weight: 700;
    }

    .product__actions {
      display: grid;
      grid-template-columns: 157px 1fr;
      gap: 1rem;
    }

    .product__quantity-selector {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: var(--clr-neutral-light-grayish-blue);
      border-radius: 10px;
      padding: 1.375rem 1rem;
    }

    .product__quantity-btn {
      padding: 0.25rem;
      transition: opacity 0.3s ease;
    }

    .product__quantity-btn:hover,
    .product__quantity-btn:focus {
      opacity: 0.7;
    }

    .product__quantity-value {
      font-weight: 700;
      color: var(--clr-neutral-very-dark-blue);
    }

    .product__add-to-cart-btn {
      background-color: var(--clr-primary-orange);
      color: var(--clr-neutral-white);
      font-weight: 700;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      box-shadow: 0 20px 50px -20px var(--clr-primary-orange);
      transition: opacity 0.3s ease;
    }

    .product__add-to-cart-btn:hover,
    .product__add-to-cart-btn:focus {
      opacity: 0.7;
    }

    /* === LIGHTBOX === */
    .lightbox {
      position: fixed;
      inset: 0;
      background-color: var(--clr-neutral-black-lightbox);
      z-index: 100;
      display: grid;
      place-items: center;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .lightbox__content {
      position: relative;
      width: 550px;
      max-width: 90%;
    }

    .lightbox__close-btn {
      position: absolute;
      top: -2.5rem;
      right: 0;
      padding: 0.5rem;
    }
    
    .lightbox__close-btn svg path {
      fill: var(--clr-neutral-white); /* Ensure the icon is visible */
      transition: fill 0.3s ease;
    }

    .lightbox__close-btn:hover svg path,
    .lightbox__close-btn:focus svg path {
      fill: var(--clr-primary-orange);
    }

    .lightbox__image-main {
      position: relative;
      margin-bottom: 2.5rem;
    }

    .lightbox__image-main img {
      border-radius: 15px;
      width: 100%;
    }

    .lightbox__thumbnails {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1.9375rem;
      padding: 0 3rem;
    }

    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: var(--clr-neutral-white);
      width: 56px;
      height: 56px;
      border-radius: 50%;
      display: grid;
      place-items: center;
      transition: background-color 0.3s ease;
    }

    .gallery-nav:hover svg path,
    .gallery-nav:focus svg path {
      stroke: white;
    }

    .gallery-nav--prev {
      left: -28px;
    }

    .gallery-nav--next {
      right: -28px;
    }

    .product__image-main .gallery-nav {
      display: none;
    }

    /* === UTILITY === */
    [hidden] {
      display: none !important;
    }

    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    /* === MOBILE === */
    @media (max-width: 768px) {
      body.nav-open {
        overflow: hidden;
      }

      .header {
        border-bottom: none;
      }

      .header__container {
        height: 68px;
        padding: 1.25rem 1.5rem;
      }

      .header__menu-btn {
        display: block;
        margin-right: 1rem;
        padding: 0.5rem;
      }

      .header__logo img {
        width: 138px;
      }

      .header__nav {
        position: fixed;
        inset: 0;
        background-color: rgba(0, 0, 0, 0.75);
        z-index: 1000;
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .header__nav.open {
        transform: translateX(0);
      }

      .header__nav-list {
        flex-direction: column;
        background-color: var(--clr-neutral-white);
        width: 250px;
        height: 100%;
        padding: 5.875rem 1.5rem;
        gap: 1.25rem;
        align-items: flex-start;
      }

      .header__nav-link {
        padding: 0;
        font-weight: 700;
        color: var(--clr-neutral-very-dark-blue);
      }

      .header__nav-link::after {
        display: none;
      }

      .header__menu-close-btn {
        position: absolute;
        top: 1.5rem;
        left: 1.5rem;
        padding: 0.5rem;
      }

      .header__right {
        gap: 1.375rem;
      }

      .header__cart-btn svg {
        width: 20px;
      }

      .header__avatar {
        width: 24px;
        height: 24px;
      }

      .cart-dropdown {
        top: calc(100% + 8px);
        left: 0.5rem;
        right: 0.5rem;
        width: auto;
      }

      .main-content {
        margin: 0 0 5rem;
        padding: 0;
      }

      .product {
        grid-template-columns: 1fr;
        gap: 1.5rem;
      }

      .product__gallery {
        max-width: 100%;
      }

      .product__image-main {
        margin-bottom: 0;
      }

      .product__image-main img {
        border-radius: 0;
        height: 300px;
        object-fit: cover;
      }

      .product__image-main .gallery-nav {
        display: grid;
        width: 40px;
        height: 40px;
      }

      .gallery-nav--prev {
        left: 1rem;
      }

      .gallery-nav--next {
        right: 1rem;
      }

      .product__thumbnails {
        display: none;
      }

      .product__info {
        padding: 1.5rem;
      }

      .product__company {
        font-size: 0.75rem;
        margin-bottom: 1.25rem;
      }

      .product__title {
        font-size: 1.75rem;
        margin-bottom: 1rem;
      }

      .product__description {
        font-size: 0.9375rem;
        line-height: 1.667;
      }

      .product__price {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .product__price-current {
        margin-bottom: 0;
      }

      .product__actions {
        grid-template-columns: 1fr;
      }

      .product__quantity-selector {
        width: 100%;
      }

      .lightbox {
        display: none !important;
      }
    }
